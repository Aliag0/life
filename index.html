<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The end</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Burger Menu -->
    <div class="burger-menu" id="burger-menu">
        <div class="burger-icon"></div>
        <div class="burger-icon"></div>
        <div class="burger-icon"></div>
    </div>

    <!-- Sidebar Menu -->
    <div class="sidebar" id="sidebar">
        <ul>
            <li><a href="#" id="homeLink">Home</a></li>
            <li><a href="#" id="boardLifeLink">Board</a></li>
            <li><a href="#" id="ratingLink">Rating</a></li>
        </ul>
    </div>

    <!-- Dynamic Content Section -->
    <div id="home" class="content-section">
        <h1 class="title">&lt;/The End&gt;</The></h1>
    </div>
    <div id="board-life" class="content-section" style="display: none;">
        <!-- Board Section -->
        <div class="board"></div>
    </div>
    <div id="rating" class="content-section" style="display: none;">
        <div class="rating">
            <h1 class="rating-title">Daily rating</h1>
            <div class="button-row" id="button-row"></div>
        </div>
    </div>

</body>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const board = document.querySelector(".board");
        const burgerMenu = document.getElementById("burger-menu");
        const sidebar = document.getElementById("sidebar");

        // Toggle sidebar visibility and transform burger into a cross
        burgerMenu.addEventListener("click", function() {
            sidebar.classList.toggle("open");
            burgerMenu.classList.toggle("open"); // Toggle the 'open' class on burger menu
        });

        // Add event listeners to sidebar links
        document.getElementById('homeLink').addEventListener('click', function() {
            showSection('home');
        });
        document.getElementById('boardLifeLink').addEventListener('click', function() {
            showSection('board-life');
        });
        document.getElementById('ratingLink').addEventListener('click', function() {
            showSection('rating');
        });

        // Initially show the home section
        showSection('home');

        // Function to handle showing/hiding content sections
        function showSection(sectionId) {
                // Hide all sections
                const sections = document.querySelectorAll('.content-section');
                sections.forEach(function(section) {
                    section.style.display = 'none';
                });

                // Show the selected section
                const sectionToShow = document.getElementById(sectionId);
                if (sectionToShow) {
                    sectionToShow.style.display = 'block';
                }
            }

        function handleClickBlocked(event) {
            const caseElement = event.target;
            const clickedClass = "clicked";

            if (!caseElement.classList.contains(clickedClass)) {
                caseElement.classList.add(clickedClass);
                localStorage.setItem(caseElement.id, "true");
            }
        }

        function handleClick(event) {
            const caseElement = event.target;
            const clickedClass = "clicked";

            if (!caseElement.classList.contains(clickedClass)) {
                caseElement.classList.add(clickedClass);
                localStorage.setItem(caseElement.id, "true");
            } else {
                caseElement.classList.remove(clickedClass);
                localStorage.setItem(caseElement.id, "false");
            }
        }

        const ligneContainer = document.createElement("div");
        ligneContainer.className = "ligne-container";
        board.appendChild(ligneContainer);

        for (let i = 0; i < 80; i++) {
            const ligne = document.createElement("div");
            ligne.className = "ligne";

            for (let j = 0; j < 52; j++) {
                const caseElement = document.createElement("div");
                caseElement.className = "case";
                caseElement.id = `case_${i}_${j}`;
                if (localStorage.getItem(caseElement.id) === "true") {
                    caseElement.classList.add("clicked");
                }
                caseElement.addEventListener("click", handleClickBlocked);
                ligne.appendChild(caseElement);
            }

            ligneContainer.appendChild(ligne);
        }

        const buttonRow = document.getElementById("button-row");
        for (let i = 0; i < 1; i++) {
            const ligne = document.createElement("div");
            ligne.className = "ligne";

            for (let j = 0; j < 10; j++) {
                const caseElement = document.createElement("div");
                caseElement.className = "rating-button";
                caseElement.id = `rating_button_${i}_${j}`;
                if (localStorage.getItem(caseElement.id) === "true") {
                    caseElement.classList.add("clicked");
                } else {
                    caseElement.classList.add("not-clicked");
                }
                caseElement.addEventListener("click", handleClick);
                ligne.appendChild(caseElement);
            }

            buttonRow.appendChild(ligne);
        }
    });
</script>
</html>
